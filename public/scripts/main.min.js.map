{"version":3,"sources":["FormHandler.js","LayoutHandler.js","main.js"],"names":["FormHandler","_classCallCheck","init","handleDOM","handleEvents","_createClass","key","value","form","$","phoneInput","storeInput","receiptInput","dateInput","rulesInput","termsInput","ageInput","modal","errorDiv","receiptModal","formWrapper","info","closeReceipt","closeReceiptBootstrap","receiptModalBootstrap","closeModalForm","messageModal","registerButton","self","imagesBon","name","image","concat","absolutePath","on","e","preventDefault","toggleClass","validator","addMethod","element","optional","test","phone_number","replace","length","match","arg","campaignMaxDate","currentDate","Math","floor","Date","now","endCampaignDate","datepicker","monthNames","monthNamesShort","dayNames","dayNamesShort","dayNamesMin","dateFormat","minDate","maxDate","orientation","valid","validate","rules","phone","digitsonly","required","minlength","maxlength","number","phoneRO","store","receiptNumber","recipeRegex","date","rule","terms","age","messages","errorElement","errorPlacement","error","appendTo","submitHandler","event","ttq","track","gtag_report_conversion","ajax","method","url","data","serialize","cache","beforeSend","addClass","success","response","status","resetForm","resetRecaptcha","find","html","message","complete","removeClass","bonImg","option","val","i","attr","prop","setTimeout","grecaptcha","reset","LayoutHandler","burgerMenu","jQuery","overlay","body","closeCampaignModal","campaignModal","closest","layoutHandler","formHandler","initHandlers","document","ready"],"mappings":"0jDAAMA,WAAW;;EAEb,SAAAA,YAAA,EAAc,CAAAC,eAAA,OAAAD,WAAA;IACV,IAAI,CAACE,IAAI,CAAC,CAAC;IACX,IAAI,CAACC,SAAS,CAAC,CAAC;IAChB,IAAI,CAACC,YAAY,CAAC,CAAC;EACvB;;EAEA;AACJ;AACA,KAFIC,YAAA,CAAAL,WAAA,KAAAM,GAAA,UAAAC,KAAA;IAGA,SAAAL,KAAA,EAAO;;IAEP;;IAEA;AACJ;AACA,OAFI,MAAAI,GAAA,eAAAC,KAAA;IAGA,SAAAJ,UAAA,EAAY;MACR,IAAI,CAACK,IAAI,GAAGC,CAAC,CAAC,eAAe,CAAC;MAC9B,IAAI,CAACC,UAAU,GAAGD,CAAC,CAAC,QAAQ,CAAC;MAC7B,IAAI,CAACE,UAAU,GAAGF,CAAC,CAAC,QAAQ,CAAC;MAC7B,IAAI,CAACG,YAAY,GAAGH,CAAC,CAAC,gBAAgB,CAAC;MACvC,IAAI,CAACI,SAAS,GAAGJ,CAAC,CAAC,OAAO,CAAC;MAC3B,IAAI,CAACK,UAAU,GAAGL,CAAC,CAAC,OAAO,CAAC;MAC5B,IAAI,CAACM,UAAU,GAAGN,CAAC,CAAC,QAAQ,CAAC;MAC7B,IAAI,CAACO,QAAQ,GAAGP,CAAC,CAAC,MAAM,CAAC;MACzB,IAAI,CAACQ,KAAK,GAAGR,CAAC,CAAC,aAAa,CAAC;MAC7B,IAAI,CAACS,QAAQ,GAAGT,CAAC,CAAC,iBAAiB,CAAC;MACpC,IAAI,CAACU,YAAY,GAAGV,CAAC,CAAC,eAAe,CAAC;MACtC,IAAI,CAACW,WAAW,GAAGX,CAAC,CAAC,eAAe,CAAC;MACrC,IAAI,CAACY,IAAI,GAAGZ,CAAC,CAAC,eAAe,CAAC;MAC9B,IAAI,CAACa,YAAY,GAAGb,CAAC,CAAC,aAAa,CAAC;MACpC,IAAI,CAACc,qBAAqB,GAAGd,CAAC,CAAC,sBAAsB,CAAC;MACtD,IAAI,CAACe,qBAAqB,GAAGf,CAAC,CAAC,wBAAwB,CAAC;MACxD,IAAI,CAACgB,cAAc,GAAGhB,CAAC,CAAC,cAAc,CAAC;MACvC,IAAI,CAACiB,YAAY,GAAGjB,CAAC,CAAC,gBAAgB,CAAC;MACvC,IAAI,CAACkB,cAAc,GAAGlB,CAAC,CAAC,kBAAkB,CAAC;IAC/C;;IAEA;AACJ;AACA,OAFI,MAAAH,GAAA,kBAAAC,KAAA;IAGA,SAAAH,aAAA,EAAe;MACX,IAAIwB,IAAI,GAAG,IAAI;;MAEf,IAAIC,SAAS,GAAG;MACZ;QACIC,IAAI,EAAE,QAAQ;QACdC,KAAK,KAAAC,MAAA,CAAKC,YAAY;MAC1B,CAAC;MACD;QACIH,IAAI,EAAE,WAAW;QACjBC,KAAK,KAAAC,MAAA,CAAKC,YAAY;MAC1B,CAAC,EAAE;QACCH,IAAI,EAAE,MAAM;QACZC,KAAK,KAAAC,MAAA,CAAKC,YAAY;MAC1B,CAAC;MACD;QACIH,IAAI,EAAE,UAAU;QAChBC,KAAK,KAAAC,MAAA,CAAKC,YAAY;MAC1B,CAAC;MACD;QACIH,IAAI,EAAE,MAAM;QACZC,KAAK,KAAAC,MAAA,CAAKC,YAAY;MAC1B,CAAC;MACD;QACIH,IAAI,EAAE,OAAO;QACbC,KAAK,KAAAC,MAAA,CAAKC,YAAY;MAC1B,CAAC;MACD;QACIH,IAAI,EAAE,OAAO;QACbC,KAAK,KAAAC,MAAA,CAAKC,YAAY;MAC1B,CAAC;MACD;QACIH,IAAI,EAAE,OAAO;QACbC,KAAK,KAAAC,MAAA,CAAKC,YAAY;MAC1B,CAAC;MACD;QACIH,IAAI,EAAE,SAAS;QACfC,KAAK,KAAAC,MAAA,CAAKC,YAAY;MAC1B,CAAC;MACD;QACIH,IAAI,EAAE,QAAQ;QACdC,KAAK,KAAAC,MAAA,CAAKC,YAAY;MAC1B,CAAC;MACD;QACIH,IAAI,EAAE,EAAE;QACRC,KAAK,KAAAC,MAAA,CAAKC,YAAY;MAC1B,CAAC,CACJ;;;MAED,IAAI,CAACZ,IAAI,CAACa,EAAE,CAAC,OAAO,EAAE,UAAUC,CAAC,EAAE;QAC/BA,CAAC,CAACC,cAAc,CAAC,CAAC;QAClBR,IAAI,CAACT,YAAY,CAACkB,WAAW,CAAC,QAAQ,CAAC;MAC3C,CAAC,CAAC;;MAEF,IAAI,CAACZ,cAAc,CAACS,EAAE,CAAC,OAAO,EAAE,UAAUC,CAAC,EAAE;QACzCA,CAAC,CAACC,cAAc,CAAC,CAAC;QAClBR,IAAI,CAACF,YAAY,CAACT,KAAK,CAAC,MAAM,CAAC;MACnC,CAAC,CAAC;;MAEF,IAAI,CAACK,YAAY,CAACY,EAAE,CAAC,OAAO,EAAE,UAAUC,CAAC,EAAE;QACvCA,CAAC,CAACC,cAAc,CAAC,CAAC;QAClBR,IAAI,CAACT,YAAY,CAACkB,WAAW,CAAC,QAAQ,CAAC;MAC3C,CAAC,CAAC;;MAEF,IAAI,CAACd,qBAAqB,CAACW,EAAE,CAAC,OAAO,EAAE,UAAUC,CAAC,EAAE;QAChDA,CAAC,CAACC,cAAc,CAAC,CAAC;QAClBR,IAAI,CAACJ,qBAAqB,CAACP,KAAK,CAAC,MAAM,CAAC;MAC5C,CAAC,CAAC;;MAEF;AACR;AACA;MACQR,CAAC,CAAC6B,SAAS,CAACC,SAAS,CAAC,YAAY,EAAE,UAAUhC,KAAK,EAAEiC,OAAO,EAAE;QAC1D,OAAO,IAAI,CAACC,QAAQ,CAACD,OAAO,CAAC,IAAI,WAAW,CAACE,IAAI,CAACnC,KAAK,CAAC;MAC5D,CAAC,EAAE,EAAE,CAAC;MACNE,CAAC,CAAC6B,SAAS,CAACC,SAAS,CAAC,SAAS,EAAE,UAAUI,YAAY,EAAEH,OAAO,EAAE;QAC9DG,YAAY,GAAGA,YAAY,CAACC,OAAO,CAAC,cAAc,EAAE,EAAE,CAAC;QACvD,OAAO,IAAI,CAACH,QAAQ,CAACD,OAAO,CAAC,IAAIG,YAAY,CAACE,MAAM,GAAG,CAAC;QACpDF,YAAY,CAACG,KAAK,CAAC,8HAA8H,CAAC;MAC1J,CAAC,EAAE,EAAE,CAAC;MACNrC,CAAC,CAAC6B,SAAS,CAACC,SAAS,CAAC,aAAa,EAAE,UAAUhC,KAAK,EAAEiC,OAAO,EAAE;QAC3D,OAAO,IAAI,CAACC,QAAQ,CAACD,OAAO,CAAC,IAAI,2CAA2C,CAACE,IAAI,CAACnC,KAAK,CAAC;MAC5F,CAAC,EAAE,EAAE,CAAC;MACNE,CAAC,CAAC6B,SAAS,CAACC,SAAS,CAAC,gBAAgB,EAAE,UAAUhC,KAAK,EAAEiC,OAAO,EAAEO,GAAG,EAAE;QACnE,OAAOA,GAAG,KAAKxC,KAAK;MACxB,CAAC,EAAE,EAAE,CAAC;;MAEN;MACA;MACA,IAAIyC,eAAe,GAAG,IAAI;MAC1B,IAAIC,WAAW,GAAGC,IAAI,CAACC,KAAK,CAACC,IAAI,CAACC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;MACjD,IAAIC,eAAe,GAAG,UAAU;;MAEhC,IAAIL,WAAW,IAAIK,eAAe,EAAE;QAChCN,eAAe,GAAG,IAAII,IAAI,CAAC,CAAC;MAChC,CAAC,MAAM;QACHJ,eAAe,GAAG,IAAII,IAAI,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC;MAC/C;;MAEA,IAAI,CAACvC,SAAS,CAAC0C,UAAU,CAAC;QACtBC,UAAU,EAAE,CAAC,UAAU,EAAE,WAAW,EAAE,QAAQ,EAAE,SAAS,EAAE,KAAK,EAAE,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,YAAY,EAAE,WAAW,EAAE,WAAW,EAAE,WAAW,CAAC,EAAE;QACpJC,eAAe,EAAE,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC,EAAE;QACvGC,QAAQ,EAAE,CAAC,UAAU,EAAE,MAAM,EAAE,OAAO,EAAE,UAAU,EAAE,KAAK,EAAE,QAAQ,EAAE,SAAS,CAAC,EAAE;QACjFC,aAAa,EAAE,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC,EAAE;QAClEC,WAAW,EAAE,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,EAAE;QACzDC,UAAU,EAAE,UAAU;QACtB;QACAC,OAAO,EAAE,IAAIV,IAAI,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC;QAClC;QACA;QACAW,OAAO,EAAEf,eAAe;QACxBgB,WAAW,EAAE;MACjB,CAAC,CAAC;;MAEF;MACA;MACA,IAAI,CAACnD,SAAS,CAACqB,EAAE,CAAC,QAAQ,EAAE,UAAUC,CAAC,EAAE;QACrC1B,CAAC,CAAC,IAAI,CAAC,CAACwD,KAAK,CAAC,CAAC;MACnB,CAAC,CAAC;;MAEF,IAAI,CAACzD,IAAI,CAAC0D,QAAQ,CAAC;QACfC,KAAK,EAAE;UACHC,KAAK,EAAE;YACHC,UAAU,EAAE,IAAI;YAChBC,QAAQ,EAAE,IAAI;YACdC,SAAS,EAAE,EAAE;YACbC,SAAS,EAAE,EAAE;YACbC,MAAM,EAAE,IAAI;YACZC,OAAO,EAAE;UACb,CAAC;UACDC,KAAK,EAAE;YACHL,QAAQ,EAAE;UACd,CAAC;UACDM,aAAa,EAAE;YACXN,QAAQ,EAAE,IAAI;YACdE,SAAS,EAAE,EAAE;YACbK,WAAW,EAAE,IAAI;YACjBJ,MAAM,EAAE,KAAK;YACbJ,UAAU,EAAE,KAAK;YACjBK,OAAO,EAAE;UACb,CAAC;UACDI,IAAI,EAAE;YACFR,QAAQ,EAAE,IAAI;YACdG,MAAM,EAAE,KAAK;YACbJ,UAAU,EAAE,KAAK;YACjBK,OAAO,EAAE;UACb,CAAC;UACDK,IAAI,EAAE;YACFT,QAAQ,EAAE,IAAI;YACdG,MAAM,EAAE,KAAK;YACbJ,UAAU,EAAE,KAAK;YACjBK,OAAO,EAAE;UACb,CAAC;UACDM,KAAK,EAAE;YACHV,QAAQ,EAAE,IAAI;YACdG,MAAM,EAAE,KAAK;YACbJ,UAAU,EAAE,KAAK;YACjBK,OAAO,EAAE;UACb,CAAC;UACDO,GAAG,EAAE;YACDX,QAAQ,EAAE,IAAI;YACdG,MAAM,EAAE,KAAK;YACbJ,UAAU,EAAE,KAAK;YACjBK,OAAO,EAAE;UACb;QACJ,CAAC;QACDQ,QAAQ,EAAE;UACNd,KAAK,EAAE;YACHC,UAAU,EAAE,iDAAiD;YAC7DC,QAAQ,EAAE,oCAAoC;YAC9CC,SAAS,EAAE,oCAAoC;YAC/CC,SAAS,EAAE,iDAAiD;YAC5DC,MAAM,EAAE,iDAAiD;YACzDC,OAAO,EAAE;UACb,CAAC;UACDC,KAAK,EAAE;YACHL,QAAQ,EAAE;UACd,CAAC;UACDM,aAAa,EAAE;YACXN,QAAQ,EAAE,6CAA6C;YACvDE,SAAS,EAAE,6CAA6C;YACxDK,WAAW,EAAE;UACjB,CAAC;UACDC,IAAI,EAAE;YACFR,QAAQ,EAAE;UACd,CAAC;UACDS,IAAI,EAAE;YACFT,QAAQ,EAAE;UACd,CAAC;UACDU,KAAK,EAAE;YACHV,QAAQ,EAAE;UACd,CAAC;UACDW,GAAG,EAAE;YACDX,QAAQ,EAAE;UACd;QACJ,CAAC;QACDa,YAAY,EAAE,KAAK;QACnBC,cAAc,EAAE,SAAAA,eAAUC,KAAK,EAAE7C,OAAO,EAAE;UACtC6C,KAAK,CAACC,QAAQ,CAAC1D,IAAI,CAACV,QAAQ,CAAC;QACjC,CAAC;QACDqE,aAAa,EAAE,SAAAA,cAAU/E,IAAI,EAAEgF,KAAK,EAAE;UAClCA,KAAK,CAACpD,cAAc,CAAC,CAAC;UACtBqD,GAAG,CAACC,KAAK,CAAC,YAAY,CAAC;UACvBC,sBAAsB,CAAC,CAAC;UACxBlF,CAAC,CAACmF,IAAI,CAAC;YACHC,MAAM,EAAE,MAAM;YACdC,GAAG,EAAE,oBAAoB;YACzBC,IAAI,EAAEtF,CAAC,CAAC,eAAe,CAAC,CAACuF,SAAS,CAAC,CAAC;YACpCC,KAAK,EAAE,KAAK;YACZC,UAAU,EAAE,SAAAA,WAAA,EAAY;cACpBtE,IAAI,CAACR,WAAW,CAAC+E,QAAQ,CAAC,aAAa,CAAC;YAC5C,CAAC;YACDC,OAAO,EAAE,SAAAA,QAAUC,QAAQ,EAAE;cACzB,IAAIA,QAAQ,CAACC,MAAM,EAAE;gBACjB1E,IAAI,CAAC2E,SAAS,CAAC,CAAC;gBAChB3E,IAAI,CAAC4E,cAAc,CAAC,CAAC;cACzB;;cAEA5E,IAAI,CAACF,YAAY,CAAC+E,IAAI,CAAC,gBAAgB,CAAC,CAACC,IAAI,CAACL,QAAQ,CAACM,OAAO,CAAC;cAC/D/E,IAAI,CAACF,YAAY,CAACT,KAAK,CAAC,MAAM,CAAC;YACnC,CAAC;YACD2F,QAAQ,EAAE,SAAAA,SAAA,EAAY;cAClBhF,IAAI,CAACR,WAAW,CAACyF,WAAW,CAAC,aAAa,CAAC;YAC/C,CAAC;YACDxB,KAAK,EAAE,SAAAA,MAAA,EAAY;cACfzD,IAAI,CAACV,QAAQ,CAACwF,IAAI,CAAC,mFAAmF,CAAC;YAC3G;UACJ,CAAC,CAAC;QACN;MACJ,CAAC,CAAC;;MAEF,IAAI,CAAC/F,UAAU,CAACuB,EAAE,CAAC,QAAQ,EAAE,YAAY;QACrC;QACA,IAAI4E,MAAM,GAAGrG,CAAC,CAAC,4BAA4B,CAAC;QAC5C;QACA,IAAIsG,MAAM,GAAGtG,CAAC,CAAC,IAAI,CAAC,CAACuG,GAAG,CAAC,CAAC;;QAE1B,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGpF,SAAS,CAACgB,MAAM,EAAEoE,CAAC,EAAE,EAAE;UACvC,IAAIF,MAAM,KAAKlF,SAAS,CAACoF,CAAC,CAAC,CAACnF,IAAI,EAAE;YAC9BgF,MAAM,CAACI,IAAI,CAAC,KAAK,EAAErF,SAAS,CAACoF,CAAC,CAAC,CAAClF,KAAK,CAAC;YACtC;UACJ;QACJ;MACJ,CAAC,CAAC;;MAEF,IAAI,CAACJ,cAAc,CAACO,EAAE,CAAC,WAAW,EAAE,YAAY;QAC5CyD,sBAAsB,CAAC,CAAC;MAC5B,CAAC,CAAC;;IAEN;;IAEA;AACJ;AACA,OAFI,MAAArF,GAAA,eAAAC,KAAA;IAGA,SAAAgG,UAAA,EAAY;MACR,IAAI,CAAC7F,UAAU,CAACsG,GAAG,CAAC,EAAE,CAAC;MACvB,IAAI,CAACrG,UAAU,CAACqG,GAAG,CAAC,EAAE,CAAC;MACvB,IAAI,CAACpG,YAAY,CAACoG,GAAG,CAAC,EAAE,CAAC;MACzB,IAAI,CAACnG,SAAS,CAACmG,GAAG,CAAC,EAAE,CAAC;MACtB,IAAI,CAAClG,UAAU,CAACqG,IAAI,CAAC,SAAS,EAAE,KAAK,CAAC;MACtC,IAAI,CAACrG,UAAU,CAACoG,IAAI,CAAC,SAAS,EAAE,KAAK,CAAC;MACtC,IAAI,CAACnG,UAAU,CAACoG,IAAI,CAAC,SAAS,EAAE,KAAK,CAAC;MACtC,IAAI,CAACpG,UAAU,CAACmG,IAAI,CAAC,SAAS,EAAE,KAAK,CAAC;MACtC,IAAI,CAAClG,QAAQ,CAACmG,IAAI,CAAC,SAAS,EAAE,KAAK,CAAC;MACpC,IAAI,CAACnG,QAAQ,CAACkG,IAAI,CAAC,SAAS,EAAE,KAAK,CAAC;IACxC,CAAC,MAAA5G,GAAA,oBAAAC,KAAA;;IAED;AACJ;AACA;IACI,SAAAiG,eAAA,EAAiB;MACbY,UAAU,CAAC,YAAY;QACnB;QACAC,UAAU,CAACC,KAAK,CAAC,CAAC;MACtB,CAAC,EAAE,GAAG,CAAC;IACX,CAAC,YAAAtH,WAAA;;;0jDC9TCuH,aAAa;;EAEjB,SAAAA,cAAA,EAAc,CAAAtH,eAAA,OAAAsH,aAAA;IACZ,IAAI,CAACrH,IAAI,CAAC,CAAC;IACX,IAAI,CAACC,SAAS,CAAC,CAAC;IAChB,IAAI,CAACC,YAAY,CAAC,CAAC;EACrB;;EAEA;AACF;AACA,KAFEC,YAAA,CAAAkH,aAAA,KAAAjH,GAAA,UAAAC,KAAA;IAGA,SAAAL,KAAA,EAAO;IACP;;IAEA;AACF;AACA,OAFE,MAAAI,GAAA,eAAAC,KAAA;IAGA,SAAAJ,UAAA,EAAY;MACV,IAAI,CAACqH,UAAU,GAAGC,MAAM,CAAC,cAAc,CAAC;MACxC,IAAI,CAACC,OAAO,GAAGD,MAAM,CAAC,UAAU,CAAC;MACjC,IAAI,CAACE,IAAI,GAAGF,MAAM,CAAC,MAAM,CAAC;MAC1B,IAAI,CAACG,kBAAkB,GAAGH,MAAM,CAAC,cAAc,CAAC;MAChD,IAAI,CAACI,aAAa,GAAGJ,MAAM,CAAC,mBAAmB,CAAC;IAClD;;IAEA;AACF;AACA,OAFE,MAAAnH,GAAA,kBAAAC,KAAA;IAGA,SAAAH,aAAA,EAAe;MACb,IAAIwB,IAAI,GAAG,IAAI;;MAEf,IAAI,CAAC4F,UAAU,CAACtF,EAAE,CAAC,OAAO,EAAE,YAAY;QACtCN,IAAI,CAAC+F,IAAI,CAACtF,WAAW,CAAC,WAAW,CAAC;QAClCT,IAAI,CAAC8F,OAAO,CAACrF,WAAW,CAAC,MAAM,CAAC;MAClC,CAAC,CAAC;;MAEF,IAAI,CAACuF,kBAAkB,CAAC1F,EAAE,CAAC,OAAO,EAAE,YAAY;QAC9CN,IAAI,CAACgG,kBAAkB,CAACE,OAAO,CAAClG,IAAI,CAACiG,aAAa,CAAC,CAAC5G,KAAK,CAAC,MAAM,CAAC;MACnE,CAAC,CAAC;IACJ,CAAC,YAAAsG,aAAA;;;cCvCH;AACA,IAAIQ,aAAa,GAAG,IAAI;AACxB,IAAIC,WAAW,GAAG,IAAI;;AAEtB,IAAMC,YAAY,GAAG,SAAfA,YAAYA,CAAA,EAAS;EACzBF,aAAa,GAAG,IAAIR,aAAa,CAAC,CAAC;EACnCS,WAAW,GAAG,IAAIhI,WAAW,CAAC,CAAC;AACjC,CAAC;;AAED;AACA,CAAC,UAACS,CAAC,EAAK;EACNA,CAAC,CAACyH,QAAQ,CAAC,CAACC,KAAK,CAAC,YAAM;IACtBF,YAAY,CAAC,CAAC;EAChB,CAAC,CAAC;AACJ,CAAC,EAAER,MAAM,CAAC;;;AAGV;AACA","file":"main.min.js","sourcesContent":["class FormHandler {\r\n\r\n    constructor() {\r\n        this.init();\r\n        this.handleDOM();\r\n        this.handleEvents();\r\n    }\r\n\r\n    /**\r\n     * Declare global variables\r\n     */\r\n    init() {\r\n\r\n    }\r\n\r\n    /**\r\n     * Handle DOM queries\r\n     */\r\n    handleDOM() {\r\n        this.form = $(\"#registerForm\");\r\n        this.phoneInput = $('#phone');\r\n        this.storeInput = $(\"#store\");\r\n        this.receiptInput = $('#receiptNumber');\r\n        this.dateInput = $('#date');\r\n        this.rulesInput = $('#rule');\r\n        this.termsInput = $('#terms');\r\n        this.ageInput = $('#age');\r\n        this.modal = $(\"#errorModal\");\r\n        this.errorDiv = $(\".error-messages\");\r\n        this.receiptModal = $('#receiptModal');\r\n        this.formWrapper = $(\".form-wrapper\");\r\n        this.info = $(\".info-wrapper\");\r\n        this.closeReceipt = $(\".closeModal\");\r\n        this.closeReceiptBootstrap = $(\".closeModalBootstrap\");\r\n        this.receiptModalBootstrap = $('#receiptModalBootstrap');\r\n        this.closeModalForm = $(\".close-modal\");\r\n        this.messageModal = $(\"#campaignModal\");\r\n        this.registerButton = $('.register-button');\r\n    }\r\n\r\n    /**\r\n     * Listen for events\r\n     */\r\n    handleEvents() {\r\n        let self = this;\r\n\r\n        let imagesBon = [\r\n            {\r\n                name: 'auchan',\r\n                image: `${absolutePath}/bonuri/Auchan.png`,\r\n            },\r\n            {\r\n                name: 'carrefour',\r\n                image: `${absolutePath}/bonuri/Carrefour.png`,\r\n            }, {\r\n                name: 'cora',\r\n                image: `${absolutePath}/bonuri/Cora.png`,\r\n            },\r\n            {\r\n                name: 'kaufland',\r\n                image: `${absolutePath}/bonuri/Kaufland.png`,\r\n            },\r\n            {\r\n                name: 'mega',\r\n                image: `${absolutePath}/bonuri/Mega-Image.png`,\r\n            },\r\n            {\r\n                name: 'metro',\r\n                image: `${absolutePath}/bonuri/Metro.png`,\r\n            },\r\n            {\r\n                name: 'penny',\r\n                image: `${absolutePath}/bonuri/Penny.png`,\r\n            },\r\n            {\r\n                name: 'profi',\r\n                image: `${absolutePath}/bonuri/Profi.png`,\r\n            },\r\n            {\r\n                name: 'selgros',\r\n                image: `${absolutePath}/bonuri/Selgros.png`,\r\n            },\r\n            {\r\n                name: 'altele',\r\n                image: `${absolutePath}/bonuri/Auchan.png`,\r\n            },\r\n            {\r\n                name: '',\r\n                image: `${absolutePath}/bonuri/Auchan.png`,\r\n            }\r\n        ];\r\n\r\n        this.info.on(\"click\", function (e) {\r\n            e.preventDefault();\r\n            self.receiptModal.toggleClass(\"active\");\r\n        });\r\n\r\n        this.closeModalForm.on(\"click\", function (e) {\r\n            e.preventDefault();\r\n            self.messageModal.modal(\"hide\");\r\n        });\r\n\r\n        this.closeReceipt.on(\"click\", function (e) {\r\n            e.preventDefault();\r\n            self.receiptModal.toggleClass(\"active\");\r\n        });\r\n\r\n        this.closeReceiptBootstrap.on(\"click\", function (e) {\r\n            e.preventDefault();\r\n            self.receiptModalBootstrap.modal('hide');\r\n        });\r\n\r\n        /**\r\n         * Add custom rules and validate the form\r\n         */\r\n        $.validator.addMethod(\"digitsonly\", function (value, element) {\r\n            return this.optional(element) || /^[0-9]+$/g.test(value);\r\n        }, \"\");\r\n        $.validator.addMethod(\"phoneRO\", function (phone_number, element) {\r\n            phone_number = phone_number.replace(/\\(|\\)|\\s+|-/g, \"\");\r\n            return this.optional(element) || phone_number.length > 9 &&\r\n                phone_number.match(/^(?:(?:07\\d{2}\\S?\\d{3}\\S?\\d{3}|(21|31)\\d{1}\\S?\\d{3}\\S?\\d{3}|((2|3)[3-7]\\d{1})\\S?\\d{3}\\S?\\d{3}|(8|9)0\\d{1}\\S?\\d{3}\\S?\\d{3}))$/);\r\n        }, \"\");\r\n        $.validator.addMethod(\"recipeRegex\", function (value, element) {\r\n            return this.optional(element) || /^(?![\\s-0]*$)\\d{1,25}(?:[\\s-]\\d{1,25})*$/g.test(value);\r\n        }, \"\");\r\n        $.validator.addMethod(\"valueNotEquals\", function (value, element, arg) {\r\n            return arg !== value;\r\n        }, \"\");\r\n\r\n        // startDate 20 April\r\n        // endDate 31 May\r\n        let campaignMaxDate = null;\r\n        let currentDate = Math.floor(Date.now() / 1000); // Current day\r\n        let endCampaignDate = 1685566799;\r\n\r\n        if (currentDate <= endCampaignDate) {\r\n            campaignMaxDate = new Date();\r\n        } else {\r\n            campaignMaxDate = new Date(2023, 5 - 1, 31);\r\n        }\r\n\r\n        this.dateInput.datepicker({\r\n            monthNames: ['Ianuarie', 'Februarie', 'Martie', 'Aprilie', 'Mai', 'Iunie', 'Iulie', 'August', 'Septembrie', 'Octombrie', 'Noiembrie', 'Decembrie'], // set month names\r\n            monthNamesShort: ['Ian', 'Feb', 'Mar', 'Apr', 'Mai', 'Iun', 'Iul', 'Aug', 'Sep', 'Oct', 'Noi', 'Dec'], // set short month names\r\n            dayNames: ['Duminică', 'Luni', 'Marți', 'Miercuri', 'Joi', 'Vineri', 'Sâmbată'], // set days names\r\n            dayNamesShort: ['Dum', 'Lun', 'Mar', 'Mie', 'Joi', 'Vin', 'Sâb'], // set short day names\r\n            dayNamesMin: ['Du', 'Lu', 'Ma', 'Mi', 'Jo', 'Vi', 'Sâ'], // set more short days names\r\n            dateFormat: 'dd/mm/yy',\r\n            // TODO: LIVE\r\n            minDate: new Date(2023, 4 - 1, 20),\r\n            // TODO: STG\r\n            // minDate: new Date(2023, 3 - 1, 1),\r\n            maxDate: campaignMaxDate,\r\n            orientation: 'bottom'\r\n        });\r\n\r\n        // console.log(new Date(2023, 4 - 1, 20));\r\n        // console.log(new Date(2023, 5 - 1, 31));\r\n        this.dateInput.on('change', function (e) {\r\n            $(this).valid();\r\n        });\r\n\r\n        this.form.validate({\r\n            rules: {\r\n                phone: {\r\n                    digitsonly: true,\r\n                    required: true,\r\n                    minlength: 10,\r\n                    maxlength: 10,\r\n                    number: true,\r\n                    phoneRO: true\r\n                },\r\n                store: {\r\n                    required: true\r\n                },\r\n                receiptNumber: {\r\n                    required: true,\r\n                    maxlength: 25,\r\n                    recipeRegex: true,\r\n                    number: false,\r\n                    digitsonly: false,\r\n                    phoneRO: false\r\n                },\r\n                date: {\r\n                    required: true,\r\n                    number: false,\r\n                    digitsonly: false,\r\n                    phoneRO: false\r\n                },\r\n                rule: {\r\n                    required: true,\r\n                    number: false,\r\n                    digitsonly: false,\r\n                    phoneRO: false\r\n                },\r\n                terms: {\r\n                    required: true,\r\n                    number: false,\r\n                    digitsonly: false,\r\n                    phoneRO: false\r\n                },\r\n                age: {\r\n                    required: true,\r\n                    number: false,\r\n                    digitsonly: false,\r\n                    phoneRO: false\r\n                }\r\n            },\r\n            messages: {\r\n                phone: {\r\n                    digitsonly: 'Trebuie să introduci un număr de telefon valid.',\r\n                    required: 'Numărul de telefon este incomplet.',\r\n                    minlength: 'Numărul de telefon este incomplet.',\r\n                    maxlength: 'Trebuie să introduci un număr de telefon valid.',\r\n                    number: 'Trebuie să introduci un număr de telefon valid.',\r\n                    phoneRO: 'Trebuie să introduci un număr de telefon valid.',\r\n                },\r\n                store: {\r\n                    required: \"Te rugăm să selectezi un magazin\",\r\n                },\r\n                receiptNumber: {\r\n                    required: 'Trebuie să introduci un numar de bon valid.',\r\n                    maxlength: 'Trebuie să introduci un numar de bon valid.',\r\n                    recipeRegex: 'Trebuie să introduci un numar de bon valid.',\r\n                },\r\n                date: {\r\n                    required: 'Trebuie să introduci data bonului fiscal.',\r\n                },\r\n                rule: {\r\n                    required: 'Trebuie să bifezi că ai citit și că ești de acord cu Regulamentul campaniei.',\r\n                },\r\n                terms: {\r\n                    required: 'Trebuie să bifezi că ai citit și că ești de acord cu Termenii și condițiile.',\r\n                },\r\n                age: {\r\n                    required: 'Trebuie să bifezi că declari că ai peste 18 ani.',\r\n                }\r\n            },\r\n            errorElement: 'div',\r\n            errorPlacement: function (error, element) {\r\n                error.appendTo(self.errorDiv);\r\n            },\r\n            submitHandler: function (form, event) {\r\n                event.preventDefault();\r\n                ttq.track('SubmitForm');\r\n                gtag_report_conversion();\r\n                $.ajax({\r\n                    method: \"POST\",\r\n                    url: \"/register-campaign\",\r\n                    data: $(\"#registerForm\").serialize(),\r\n                    cache: false,\r\n                    beforeSend: function () {\r\n                        self.formWrapper.addClass(\"show-loader\");\r\n                    },\r\n                    success: function (response) {\r\n                        if (response.status) {\r\n                            self.resetForm();\r\n                            self.resetRecaptcha();\r\n                        }\r\n\r\n                        self.messageModal.find(\".message__text\").html(response.message);\r\n                        self.messageModal.modal('show');\r\n                    },\r\n                    complete: function () {\r\n                        self.formWrapper.removeClass(\"show-loader\");\r\n                    },\r\n                    error: function () {\r\n                        self.errorDiv.html('<p>A intervenit o eroare neprevăzută. Te rugăm să încerci din nou mai târziu.</p>');\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n        this.storeInput.on('change', function () {\r\n            // On select change, switch image for receipt\r\n            let bonImg = $('#receiptModal .receipt-bon');\r\n            // let bonImgModal = $('#receiptModalBootstrap img');\r\n            let option = $(this).val();\r\n\r\n            for (let i = 0; i < imagesBon.length; i++) {\r\n                if (option === imagesBon[i].name) {\r\n                    bonImg.attr('src', imagesBon[i].image);\r\n                    // bonImgModal.attr('src', imagesBon[i].image);\r\n                }\r\n            }\r\n        });\r\n\r\n        this.registerButton.on('click tap', function () {\r\n            gtag_report_conversion();\r\n        })\r\n\r\n    }\r\n\r\n    /**\r\n     * Function of reseting form\r\n     */\r\n    resetForm() {\r\n        this.phoneInput.val('');\r\n        this.storeInput.val('');\r\n        this.receiptInput.val('');\r\n        this.dateInput.val('');\r\n        this.rulesInput.prop('checked', false);\r\n        this.rulesInput.attr('checked', false);\r\n        this.termsInput.prop('checked', false);\r\n        this.termsInput.attr('checked', false);\r\n        this.ageInput.prop('checked', false);\r\n        this.ageInput.attr('checked', false);\r\n    };\r\n\r\n    /**\r\n     * Function of resetting recaptcha\r\n     */\r\n    resetRecaptcha() {\r\n        setTimeout(function () {\r\n            // reset captcha\r\n            grecaptcha.reset();\r\n        }, 500)\r\n    }\r\n}\r\n","class LayoutHandler {\r\n\r\n  constructor() {\r\n    this.init();\r\n    this.handleDOM();\r\n    this.handleEvents();\r\n  }\r\n\r\n  /**\r\n   * Declare global variables\r\n   */\r\n  init() {\r\n  }\r\n\r\n  /**\r\n   * Handle DOM queries\r\n   */\r\n  handleDOM() {\r\n    this.burgerMenu = jQuery('.burger-menu');\r\n    this.overlay = jQuery('.overlay');\r\n    this.body = jQuery('body');\r\n    this.closeCampaignModal = jQuery('.close-modal');\r\n    this.campaignModal = jQuery('.campaign-overlay');\r\n  }\r\n\r\n  /**\r\n   * Listen for events\r\n   */\r\n  handleEvents() {\r\n    let self = this;\r\n\r\n    this.burgerMenu.on('click', function () {\r\n      self.body.toggleClass('open-menu');\r\n      self.overlay.toggleClass('show');\r\n    });\r\n\r\n    this.closeCampaignModal.on('click', function () {\r\n      self.closeCampaignModal.closest(self.campaignModal).modal(\"hide\");\r\n    })\r\n  }\r\n}\r\n","// init handlers\r\nlet layoutHandler = null;\r\nlet formHandler = null;\r\n\r\nconst initHandlers = () => {\r\n  layoutHandler = new LayoutHandler();\r\n  formHandler = new FormHandler();\r\n};\r\n\r\n// uncomment this to use jQuery\r\n(($) => {\r\n  $(document).ready(() => {\r\n    initHandlers();\r\n  });\r\n})(jQuery);\r\n\r\n\r\n// init handlers using vanilla\r\n// document.addEventListener('DOMContentLoaded', () => { initHandlers(); });\r\n\r\n"]}